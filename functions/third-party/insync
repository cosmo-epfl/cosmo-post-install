#!/bin/bash

# Insync Google Drive Client
# This setups the repository so as all future updates should be automatically installed
function insync {
	show_info 'Setting up repository for Insync...'
	# Download Debian file that matches system architecture
    $SUDOCMD apt-key adv --keyserver keyserver.ubuntu.com --recv-keys ACCAF35C
    CODENAME=$(lsb_release -cs)
    DISTRO=$(lsb_release -ds | tr '[:upper:]' '[:lower:]' | cut -d' ' -f1)
    echo "deb http://apt.insynchq.com/$DISTRO $CODENAME non-free contrib" | sudo tee /etc/apt/sources.list.d/insync.list
	# Install package(s)
	show_info 'Installing Insync...'
	show_warning 'Requires root privileges'
    $SUDOCMD apt-get update && $SUDOCMD apt-get install insync
    # Done
    check_exit && show_success 'Done.'
    whiptail --title "Finished" --msgbox "Installation complete." 8 78
	thirdparty
}
